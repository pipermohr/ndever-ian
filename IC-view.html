<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ndever Dashboard - Experienced Employee</title>
    <link rel="icon" href="https://placehold.co/16x16/EA580C/FFFFFF?text=ND" type="image/png">
    
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .nde-orange-700 { color: #EA580C; }
        .bg-nde-orange-700 { background-color: #EA580C; }
        .border-nde-orange-700 { border-color: #EA580C; }
        .text-nde-orange-600 { color: #F97316; }
    </style>
</head>
<body class="min-h-screen bg-gray-50 text-gray-900 antialiased p-4 sm:p-8">

    <div id="root"></div>

    <script type="text/babel">
        const NdeverColors = {
            LOW: { name: 'Low Ndever', color: '#10B981' },
            MEDIUM: { name: 'Medium Ndever', color: '#FBBF24' },
            HIGH: { name: 'High Ndever', color: '#FB923C' },
            MAX: { name: 'Max Ndever', color: '#EA580C' },
        };

        const getScoreColor = (score) => {
            if (score >= 4) return NdeverColors.MAX;
            if (score >= 3) return NdeverColors.HIGH;
            if (score >= 2) return NdeverColors.MEDIUM;
            return NdeverColors.LOW;
        };

        const mockObjectives = [
            {
                id: 'prod1',
                name: 'Lead Project "Horizon" Launch',
                ndeScore: 4,
                completion: 75,
                type: 'Product Development',
                goalConfig: {
                    type: 'Hybrid',
                    description: 'Successfully launch Project Horizon, meeting all key performance indicators and timelines.',
                    completionWeight: 60,
                    metricWeight: 40,
                    linkedPlaybooks: ['Project Horizon Launch Plan', 'Go-to-Market Strategy'],
                    linkedMilestones: ['Beta Release Complete (Achieved)', 'Marketing Assets Finalized (Pending)'],
                    metrics: [
                        { name: 'User Adoption (Week 1)', current: 15, target: 20, unit: '%', dataType: 'percentage', isAutomated: true, integrationSource: 'Product Analytics' },
                        { name: 'Critical Bugs (Post-Launch)', current: 2, target: 0, unit: '', dataType: 'number', isAutomated: true, integrationSource: 'Jira' }
                    ]
                }
            },
            {
                id: 'skill1',
                name: 'Master Advanced Data Visualization',
                ndeScore: 3,
                completion: 60,
                type: 'Skill Development',
                goalConfig: {
                    type: 'Completion-based',
                    description: 'Complete advanced course and apply new visualization techniques in at least two reports.',
                    linkedPlaybooks: ['Data Viz Masterclass'],
                    linkedMilestones: ['Course Completion (Pending)', 'Two Reports Published (Pending)'],
                    linkedTasks: ['Complete Module 3: Interactive Dashboards (Completed)', 'Start Capstone Project (Pending)', 'Schedule Peer Review of Dashboard (Pending)']
                }
            },
            {
                id: 'mentorship1',
                name: 'Mentor Junior PM (Q3)',
                ndeScore: 2,
                completion: 50,
                type: 'Leadership & Mentorship',
                goalConfig: {
                    type: 'Completion-based',
                    description: 'Provide mentorship to a junior Product Manager, supporting their growth and integration.',
                    linkedPlaybooks: ['Mentorship Program Guide'],
                    linkedMilestones: ['Mentee Onboarding Complete (Achieved)', 'Mid-Quarter Check-in (Pending)'],
                    linkedTasks: ['Schedule Bi-weekly 1:1s (Completed)', 'Review Mentee\'s PRD (Pending)', 'Share Industry Best Practices (Ongoing)']
                }
            },
            {
                id: 'wellness1',
                name: 'Utilize Wellness Benefits',
                ndeScore: 1,
                completion: 80,
                type: 'Personal Well-being',
                goalConfig: {
                    type: 'Metric-based',
                    description: 'Actively engage with company wellness programs and benefits.',
                    metrics: [
                        { name: 'Gym Visits (Monthly)', current: 6, target: 8, unit: '', dataType: 'number', isAutomated: false },
                        { name: 'Wellness Credits Used', current: 150, target: 200, unit: '$', dataType: 'currency', isAutomated: true, integrationSource: 'HR Benefits Portal' }
                    ],
                    primaryMetric: 'Wellness Credits Used'
                }
            },
        ];

        const mockTasks = [
            { id: 'task1', name: 'Finalize Project Horizon Marketing Assets', dueDate: '2025-07-10', status: 'Pending', category: 'Product Launch', playbook: 'Project Horizon Launch Plan' },
            { id: 'task2', name: 'Complete Data Viz Masterclass Capstone Project', dueDate: '2025-07-15', status: 'Pending', category: 'Skill Development', playbook: 'Data Viz Masterclass' },
            { id: 'task3', name: 'Review Mentee\'s Q3 Objectives', dueDate: '2025-07-08', status: 'Pending', category: 'Mentorship', playbook: 'Mentorship Program Guide' },
            { id: 'task4', name: 'Submit Expense Report for Conference', dueDate: '2025-07-05', status: 'Overdue', category: 'Admin', playbook: 'Expense Reporting Policy' },
            { id: 'task5', name: 'Schedule 1:1 with Engineering Lead for Horizon', dueDate: '2025-07-03', status: 'Upcoming', category: 'Product Dev', playbook: 'Project Horizon Launch Plan' },
            { id: 'task6', name: 'Book Q3 Wellness Class (Yoga)', dueDate: '2025-07-07', status: 'Pending', category: 'Personal Well-being', playbook: 'Wellness Program Guide' },
        ];

        const mockPerks = [
            { id: 'perk1', name: 'Gym Membership Reimbursement', status: 'Active', details: 'Up to $50/month. Last claimed: Jun 2025.', action: 'Claim Now', link: '#' },
            { id: 'perk2', name: 'Professional Development Stipend', status: 'Available', details: '$1000/year for courses/conferences. Balance: $400.', action: 'Apply Now', link: '#' },
            { id: 'perk3', name: 'Mental Wellness App Subscription', status: 'Active', details: 'Free access to Headspace/Calm.', action: 'Access App', link: '#' },
            { id: 'perk4', name: 'Company Volunteer Day', status: 'Upcoming', details: 'Next event: Aug 15, 2025. Sign up by Aug 1.', action: 'Sign Up', link: '#' },
        ];

        const ObjectiveRing = ({ completion, color, size = 48, strokeWidth = 4 }) => {
            const radius = (size - strokeWidth) / 2;
            const circumference = radius * 2 * Math.PI;
            const offset = circumference - (completion / 100) * circumference;

            return (
                <svg width={size} height={size} viewBox={`0 0 ${size} ${size}`} className="transform -rotate-90">
                    <circle
                        className="text-gray-200"
                        strokeWidth={strokeWidth}
                        stroke="currentColor"
                        fill="transparent"
                        r={radius}
                        cx={size / 2}
                        cy={size / 2}
                    />
                    <circle
                        stroke={color}
                        strokeWidth={strokeWidth}
                        strokeDasharray={circumference}
                        strokeDashoffset={offset}
                        strokeLinecap="round"
                        fill="transparent"
                        r={radius}
                        cx={size / 2}
                        cy={size / 2}
                        className="transition-all duration-500 ease-in-out"
                    />
                </svg>
            );
        };

        const CurrentObjectiveScoreChart = ({ objectives }) => {
            // FIX: Use ndeScore instead of the non-existent complexityScore
            const totalScore = objectives.reduce((sum, obj) => sum + obj.ndeScore, 0);
            let cumulativeAngle = 0;

            const segments = objectives.map((obj) => {
                const angle = (obj.ndeScore / totalScore) * 360;
                const startAngle = cumulativeAngle;
                const endAngle = cumulativeAngle + angle;
                cumulativeAngle = endAngle;

                const completionRatio = obj.completion / 100;
